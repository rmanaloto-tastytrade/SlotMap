{
  "name": "SlotMap Dev",
  "image": "devcontainer:local",
  "workspaceFolder": "/home/${env:DEVCONTAINER_USER}/workspace",
  "workspaceMount": "source=${localEnv:REMOTE_WORKSPACE_PATH},target=/home/${env:DEVCONTAINER_USER}/workspace,type=bind,consistency=cached",
  "runArgs": [
    "--cap-add=SYS_PTRACE",
    "--security-opt=seccomp=unconfined",
    "-p",
    "9222:2222"
  ],
  "containerEnv": {
    "CC": "clang-21",
    "CXX": "clang++-21",
    "VCPKG_ROOT": "/opt/vcpkg",
    "VCPKG_OVERLAY_PORTS": "${containerWorkspaceFolder}/vcpkg-overlays/cib/ports:${containerWorkspaceFolder}/vcpkg-overlays/stdx/ports:${containerWorkspaceFolder}/vcpkg-overlays/qlibs/ports:${containerWorkspaceFolder}/vcpkg-overlays/boost-ext/ports",
    "DEVCONTAINER_USER": "${localEnv:DEVCONTAINER_USER:-slotmap}",
    "MRDOCS_EXECUTABLE": "/opt/mrdocs/bin/mrdocs"
  },
  "mounts": [
    "source=slotmap-vcpkg,target=/opt/vcpkg/downloads,type=volume",
    "source=${localEnv:REMOTE_SSH_SYNC_DIR},target=/home/${env:DEVCONTAINER_USER}/.ssh,type=bind,consistency=cached"
  ],
  "forwardPorts": [9222],
  "postCreateCommand": ".devcontainer/scripts/post_create.sh",
  "features": {
    "ghcr.io/devcontainers/features/sshd:1": {
      "version": "latest",
      "port": "9222",
      "publishPort": true,
      "gatewayPorts": "clientspecified",
      "options": "PermitRootLogin no"
    }
  },
  "customizations": {
    "jetbrains": {
      "clion": {
        "autoConfigure": true,
        "workspaceModel": "default"
      }
    }
  }
}
